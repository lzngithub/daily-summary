# 中文乱码

中文乱码的产生原因：解码方式和编码方式不一致。一个中文字符以 utf-8 编码会转成 3 个 byte，如果以 gbk 编码会转成 2 个 byte；而一个英文字符以 utf-8 编码会转成 1 个 byte，如果以 gbk 编码会转成 1 个 byte。

## 乱码

不知道有没有人这样认为过，一个字符串不仅仅包含字符，还有隐藏着它的编码信息。比如 java 中 String str = "你好";我之前是这样认为的，str 这个字符串隐藏着它的编码方式 unicode 编码或者 gbk、iso-8859-1 等。这种理解是错误的，字符就是字符没有任何其他信息，正确的理解应该是，人在一个文件中所看到的字符串是系统经过把内存中的数码信息读取也再解码成一些字符最后显示，就是当你双击打开一个文本文件时系统会把内存的数码信息读取显示出来，当你保存一个文本文件时系统会把这个文件以你所设置的编码方式编码，再放进内存中。

所以说乱码也是一些字符，只是奇怪的字符而已，并没有什么”码“。

## 乱码原因

乱码是因为解码方式和编码方式不一致导致的

1、utf-8 确实几乎能表示所有已知字符。前面说过在 utf-8 编码中 3 个字节才表示一个中文字符，这样显然占空间，不利于传输和存储（传输和存储都是以二进制的方式进行的）

2、无疑一个字节表示一个字符最省空间，比如 iso-8859-1。但这世上不是只有英文字符，还有各个地区国家的文字。所以字符的数量肯定是大于 2 的 8 次方的。
