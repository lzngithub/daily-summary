# OSI 七层模型

OSI（Open Systems Interconnection）七层模型，即开放系统互联参考模型，起源于 20 世纪 70 年代和 80 年代。

当时，随着计算机网络技术的发展和普及，不同厂商生产的计算机和网络设备之间的互操作性成为一个关键问题。为了解决这个问题，国际标准化组织（ISO）开始研究如何将各种网络设备和协议统一为一个标准框架。

OSI 七层模型的目的是将复杂的网络通信问题划分为更小、更容易管理的部分。它将通;信过程分为七个抽象层次，从底层到顶层分别为：物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。

每一层都有特定的功能和职责，相互协作以实现端到端的通信。这种分层的架构使得不同层次的技术和协议能够独立地发展和更新，同时保持整个系统的互操作性。

尽管 OSI 七层模型在理论上得到了广泛的认可和应用，但在实际的网络实现中，它并没有得到广泛的采用。TCP/IP 协议族，最早由美国国防部高级研究计划署（DARPA）在 20 世纪 70 年代开发，成为了互联网的基石。TCP/IP 模型采用了一个更简化的四层架构，即：链路层、网络层、传输层和应用层。

## OSI 七层参考模型：

- 物理层：负责传输比特流（0 和 1），处理物理连接、电气特性、光缆连接等。
- 数据链路层：负责在物理层的基础上建立数据链路，将比特流通过网卡的唯一标识 mac 地址进行分组形成数据包，实现数据包的组织和传输，包括错误检测和流量控制，通过广播的形式进行数据传播。
- 网络层：负责为数据包选择最佳路径，实现不同网络之间的通信，例如 IP 协议，寻址，路由。
- 传输层：负责端到端的通信，提供数据包的传输和错误控制，例如 TCP 和 UDP 协议。
- 会话层：负责建立、维护和断开连接（会话）。
- 表示层：负责数据格式转换、加密解密和压缩解压缩等功能。
- 应用层：负责为应用程序提供网络服务，例如 HTTP、FTP、SMTP 等协议。

## 1.物理层

物理层是直接和物理介质打交道的。

物理层的设备 网卡，网线，集线器，中继器，调制解调器

在这一层通过以上的方式，会获取他们对应的传送信号，电压，转换成 010101010101 但是数据还未组织，仅作为原始的电气电压处理单位为 bit

## 2.数据链路层

建立逻辑连接、进行硬件地址寻址、差错校验等功能。（由底层网络定义协议）
将比特组合成字节进而组合成帧，用 MAC 地址访问介质，错误发现但不能纠正。

MAC 地址：每个网卡的唯一标识

有了 Mac 地址之后就可以知道谁是接收者，谁是发送者，并且知道了数据的内容并且进行了分组。

那么他如何进行传播数据，他是进行广播的方式进行传输,在局域网内所有的计算机都能收到消息。

## 3.网络层

该层控制数据链路层与传输层之间的信息转发，建立、维持和终止网络的连接。具体地说，数据链路层的数据在这一层被转换为数据包，然后通过路径选择、分段组合、顺序、进/出路由等控制，将信息从一个网络设备传送到另一个网络设备 1.寻址：对网络层而言使用 IP 地址来唯一标识互联网上的设备，网络层依靠 IP 地址进行相互通信（类似于数据链路层的 MAC 地址） 2.路由：在同一个网络中的内部通信并不需要网络层设备，仅仅靠数据链路层就可以完成相互通信，对于不同的网络之间相互通信则必须借助路由器等三层设备

我们的路由器就是在第三层工作。

在数据链路层的时候说过了如果所有的使用互联网的用户在同一个网段中，会产生广播风暴，所以要将用户进行划分，让他们在不同的网段中，自己在自己的小网段中广播。而互联网就是这无数的子网络构成的一个巨型网络。

在网络层中引入了一套新的地址，让我们能够区分不同的网段。这套地址就叫做“网络地址”，简称“网址”。

于是，”网络层”出现以后，每台计算机有了两种地址，一种是 MAC 地址，另一种是网络地址。两种地址之间没有任何联系，MAC 地址是绑定在网卡上的，网络地址则是管理员分配的，它们只是随机组合在一起。

网络地址帮助我们确定计算机所在的子网络，MAC 地址则将数据包送到该子网络中的目标网卡。因此，从逻辑上可以推断，必定是先处理网络地址，然后再处理 MAC 地址。

这一层中有一个规定网络地址的协议，叫做 IP 协议，它所定义的地址，就被称为 IP 地址。目前，广泛采用的是 IP 协议第四版，简称 IPv4。这个版本规定，网络地址由 32 个二进制位组成。因为 IPv4 的地址已经不够用了，所以现在推广 IPv6。

## 4.传输层

传输层主要就是定义我们的端口号，以及控流，和校验。
并且拥有两个熟知的协议 TCP UDP
TCP 是面向连接的协议并且 TCP 是可靠的
因为 TCP 会进行三次握手四次挥手所以是可靠的，但是这样会降低速度
UDP 具有较好的实时性 效率比 TCP 高
UDP 是没有三次握手四次挥手的，故此不稳定，但是速度快 常用于直播，游戏

## 5.会话层

会话层，是在发送方和接收方之间进行通信时创建、维持、之后终止或断开连接的地方，与电话通话有点相似。

会话层定义了一种机制，允许发送方和接收方启动或停止请求会话，以及当双方发生拥塞时仍然能保持对话。

会话层包含了一种称为检查点（Checkpoint） 的机制来维持可靠会话。检查点定义了一个最接近成功通信的点，并且定义了当发生内容丢失或损坏时需要回滚以便恢复丢失或损坏数据的点，即断点下载的原理

## 6.表示层

表示层主要做了几件重要的事情 安全，压缩，也是程序在网络中的一个翻译官。 1.安全 在你的数据发送之前进行加密，在接受者的表示层进行解密。 2.表示层还会对图片文件等格式进行解码和编码 例如 JPEG、ASCll 图片是人类能读懂的计算机需要转换成计算机能读懂的编码。

## 7.应用层

应用层就是我们使用最多的一层，例如 ajax 调用接口发送 http 请求，再比如域名系统 DNS，邮件协议 SMTP，webSocket 长连接，SSH 协议。

参考：[小满 zs](https://juejin.cn/post/7228893159069548599)
